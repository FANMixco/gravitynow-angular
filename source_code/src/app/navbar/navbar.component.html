<nav id="titleBar" class="navbar navbar-expand-sm bg-dark navbar-dark">
    <a class="navbar-brand" href="#">Gravity Now!</a>

    <div class="collapse navbar-collapse" id="navb">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a (click)="openCalc(contentCalc)" class="nav-link">Calculator</a>
          </li>
          <li class="nav-item">
            <a (click)="openHelp(contentComparison)" class="nav-link">Comparison</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" (click)="openHelp(contentHelp)">Help</a>
          </li>
          <li class="nav-item">
            <a (click)="openAbout(contentAbout)" class="nav-link">About</a>
          </li>
        </ul>
        <app-navbar-search (onItemSelected)="setLocation($event)"></app-navbar-search>
    </div>
</nav>

<ng-template #contentComparison let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title" id="modal-primary-title">Comparison</h4>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form>
          <div class="form-group">
              <div class="row">
                <div class="col-8">
                  <label for="txtWeight">Your weight on the Earth:</label>
                  <input min="1" type="number" id="txtWeight" class="form-control" placeholder="Weight" (keyup)="onKeyWeight($event)">
                </div>
                <div class="col-4">
                    <label for="cmbUnitsWeight">Units:</label>
                    <select [(ngModel)]="selectedWUnits" name="selectedWUnits" id="cmbUnitsWeight" class="form-control" (change)="onWChange($event.target.value)">
                      <option *ngFor="let option of wUnits" [value]="option.value">{{option.name}}</option>
                    </select>
                </div>
              </div>
          </div>
          <div class="form-group">
              <label for="cmbGUnits">Gravity units:</label>
              <select [(ngModel)]="selectedGUnits2" name="selectedGUnits2" id="cmbGUnits2" class="form-control" (change)="onGUChange($event.target.value)">
                <option *ngFor="let option of gUnits" [value]="option.value">{{option.name}}</option>
              </select>
            </div>
          <div class="row">
            <div class="col">
              <label for="cmbFirstCelestialObject">1<sup>st</sup> celestial Object:</label>
              <select [(ngModel)]="selectedValueCO1" name="selectedValueCO1" id="cmbFirstCelestialObject" class="form-control" (change)="onCOChange1($event.target.value)">
                <option *ngFor="let option of celestialObjects" [value]="option.value">{{option.name}}</option>
              </select>
              <div class="centered">
                <img style="max-width: 192px;" [src]="celestialImgFirst">
                <p class="caption">{{celestialStrFirstGravity}}</p>
              </div>
            </div>
            <div class="col">
              <label for="cmbSecondCelestialObject">2<sup>nd</sup> celestial Object:</label>
              <select [(ngModel)]="selectedValueCO2" name="selectedValueCO2" id="cmbSecondCelestialObject" class="form-control" (change)="onCOChange2($event.target.value)">
                <option *ngFor="let option of celestialObjects" [value]="option.value">{{option.name}}</option>
              </select>
              <div class="centered">
                <img style="max-width: 192px;" [src]="celestialImgSecond">
                <p class="caption">{{celestialStrSecondGravity}}</p>
              </div>
            </div>
          </div>
          <div class="form-group" style="text-align: center">
            <p [className]="messageComparisonStyle">{{wResult}}</p>
          </div>
        </form>
    </div>
</ng-template>

<ng-template #contentHelp let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title" id="modal-primary-title">Help</h4>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <ngb-tabset>
            <ngb-tab title="What is?">
              <ng-template ngbTabContent>
                <br />
                <h3>What is Gravity?</h3>
                <p>Gravity, is a natural phenomenon by which all physical bodies attract each other. It is most commonly recognized and experienced as the agent that gives weight to physical objects, and causes physical objects to fall toward the ground when dropped from a height. [¹]</p>
                <p>Its standard value on the Earth is 9.80665 m/s² (32.1740 ft/s²) is the one originally adopted by the International Committee on Weights and Measures in 1901 for 45° latitude, even though it has been shown to be too high by about five parts in ten thousand.</p>
                <div class="centered">
                  <img style="max-width: 256px;" src="./assets/newtonApple.jpg">
                </div>
                <p class="caption">The common myth that a falling apple inspired Isaac Newton's insight into the law of gravity.</p>
                <h4>What else does gravity do?</h4>
                <p>Why do you land on the ground when you jump up instead of floating off into space? Why do things fall down when you throw them or drop them? The answer is gravity: an invisible force that pulls objects toward each other. Earth's gravity is what keeps you on the ground and what makes things fall. [²]</p>
                <div class="centered">
                  <img class="horizontalMax" src="./assets/einstein-gravitational-wave.gif">
                </div>
                <p class="caption">An animation of gravity at work. Albert Einstein described gravity as a curve in space that wraps around an object—such as a star or a planet. If another object is nearby, it is pulled into the curve. Text credit: NASA</p>
                <p class="caption">More information:</p>
                <p class="caption">¹ Gravity <a target="blank" href="https://en.wikipedia.org/wiki/Gravity">en.wikipedia.org/wiki/Gravity</a></p>
                <p class="caption">² What is gravity? <a target="blank" href="https://spaceplace.nasa.gov/what-is-gravity/en/">spaceplace.nasa.gov/what-is-gravity/en</a></p>
              </ng-template>
            </ngb-tab>
            <ngb-tab title="Change">
              <ng-template ngbTabContent>
                  <br />
                  <h3>Gravity change</h3>
                  <p>Anything that has mass also has gravity. Objects with more mass have more gravity. Gravity also gets weaker with distance. So, the closer objects are to each other, the stronger their gravitational pull is.</p>
                  <p>Earth's gravity comes from all its mass. All its mass makes a combined gravitational pull on all the mass in your body. That's what gives you weight. And if you were on a planet with less mass than Earth, you would weigh less than you do here. [¹]</p>
                  <div class="centered">
                    <img class="horizontalMax" src="./assets/whatIsGravity.jpg">
                  </div>
                  <p class="caption" style="text-align: right">Image credit: NASA</p>
                  <p>You exert the same gravitational force on Earth that it does on you. But because Earth is so much more massive than you, your force doesn't really have an effect our planet.</p>
                  <p>Also, the gravity varies all over our planet, it's not homogeneous.</p>
                  <div class="centered">
                    <img style="max-width: 75%" src="./assets/GRACE_globe_animation.gif">
                  </div>
                  <p class="caption">Earth's gravity measured by NASA's GRACE mission, showing deviations from the theoretical gravity of an idealized smooth Earth, the so-called earth ellipsoid. Red shows the areas where gravity is stronger than the smooth, standard value, and blue reveals areas where gravity is weaker. (Animated version)</p>
                  <p>Furthermore, the lowest gravity recorded is in the <a target="blank" href="https://goo.gl/maps/Vah5YCPKbk32">Mount Nevado Huascarán</a> in Peru with 9.7639 m/s², while the highest is at the surface of the <a target="blank" href="https://goo.gl/maps/tc287in2Vnt">Arctic Ocean</a>, at 9.8337 m/s². [²]</p>
                  <p class="caption">More information:</p>
                  <p class="caption">¹ What is gravity? <a target="blank" href="https://spaceplace.nasa.gov/what-is-gravity/en/">spaceplace.nasa.gov/what-is-gravity/en</a></p>
                  <p class="caption">² Gravity map reveals Earth's extremes <a target="blank" href="https://www.newscientist.com/article/dn24068-gravity-map-reveals-earths-extremes">www.newscientist.com/article/dn24068-gravity-map-reveals-earths-extremes</a></p>
                </ng-template>
            </ngb-tab>
            <ngb-tab title="Formula">
              <ng-template ngbTabContent>
                  <br />
                  <h3>Formula</h3>
                  <p>The formulas used by this App are based on the International Gravity Formula 1967 (IGF)¹ which determines the gravity from the position of latitude, and the Free Air Correction (FAC)² which corrects for height above sea level.</p>
                  <p class="centered">ICF = 9.780327 (1 + 0.0053024sin²Φ - 0.0000058sin²2Φ)</p>
                  <p class="centered">FAC = -3.086 ✕ 10<sup>-6</sup> ✕ h</p>
                  <p class="centered">g = IGF + FAC</p>
                  <p><b>Symbols</b></p>
                  <ul>
                    <li>g = Theoretical local gravity</li>
                    <li>IGF = International Gravity Formula</li>
                    <li>FAC = Free Air Correction</li>
                    <li>Φ = Latitude</li>
                    <li>h = Height relative to sea level</li>
                  </ul>
                  <p><b>Key concepts</b></p>
                  <p><b>Latitude</b></p>
                  <p>Position relative to the equator in decimal degrees. Latitude can only be specified between -90° and 90°.\n\nYou can determine the latitude position by going to Google Maps and right clicking on the required location and then selecting “Drop LatLng Marker” which will display the decimal latitude value first before the longitude value.</p>
                  <p><b>Height/Altitude</b></p>
                  <p>Height above sea level is a value in metres or feet. If you do not know the height above sea level you should be able to obtain it from your national geological survey maps.</p>
                  <p class="caption">More information:</p>
                  <p class="caption">¹ International Gravity Formula 1967 (IGF) <a target="blank" href="http://en.wikipedia.org/wiki/International_Gravity_Formula">en.wikipedia.org/wiki/International_Gravity_Formula</a></p>
                  <p class="caption">² Free Air Correction (FAC) <a target="blank" href="http://en.wikipedia.org/wiki/Gravity_of_Earth#Free_air_correction">en.wikipedia.org/wiki/Gravity_of_Earth#Free_air_correction</a></p>
              </ng-template>
            </ngb-tab>
          </ngb-tabset>
    </div>
</ng-template>

<ng-template #contentCalc let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title" id="modal-primary-title">Calculator</h4>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="txtAltitude">Altitude:</label>
            <input type="number" id="txtAltitude" class="form-control" placeholder="Enter Altitude" (keyup)="onKeyAlt($event)">
          </div>
          <div class="form-group">
            <label for="txtLatitude">Latitude:</label>
            <input type="number" id="txtLatitude" class="form-control" placeholder="Enter Latitude" (keyup)="onKeyLat($event)">
          </div>
          <div class="form-group">
              <label for="cmbUnits">Units:</label>
              <select [(ngModel)]="selectedGUnits1" name="selectedGUnits1" id="cmbUnits" class="form-control">
                <option *ngFor="let option of gUnits" [value]="option.value">{{option.name}}</option>
              </select>
          </div>
          <div class="form-group" style="text-align: center">
            <p [className]="messageStyle">{{gResult}}</p>
          </div>
        </form>
    </div>
</ng-template>

<ng-template #contentAbout let-c="close" let-d="dismiss">
  <div class="modal-header">
      <h4 class="modal-title" id="modal-primary-title">About us</h4>
      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
  </div>
  <div class="modal-body centered">
    <h2>Gravity Now!</h2>
    <p>It is a platform designed for Space Apps Challenge and the Challenge Gravity Map, Earth Watch category and was chosen in the Top 5 of The Most Inspiring Projects of 2014.</p>
    <a href="https://2014.spaceappschallenge.org/awards/#globalawards" target="_blank">
      <img id="spaceLogo" src="./assets/space_apps.png">
    </a>
    <br>
    <img id="supernovaLogo" src="./assets/supernova-logo.png">
    <p>Also, you can download our apps.</p>
    <div class="row">
      <div class="col">
        <a href="https://play.google.com/store/apps/details?id=tk.supernova.gnow" target="_blank">
          <img class="logo" src="./assets/android.png">
        </a>
      </div>
      <div class="col">
        <a href="https://www.microsoft.com/en-us/p/gravity-now/9nblgggzjlp5" target="_blank">
          <img class="logoWindows" src="./assets/windows.png">
        </a>
      </div>
    </div>
  </div>
</ng-template>